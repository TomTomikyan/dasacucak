================================================================================
  СИСТЕМА АВТОМАТИЧЕСКОЙ ГЕНЕРАЦИИ РАСПИСАНИЯ ДЛЯ КОЛЛЕДЖА
================================================================================

ВЕРСИЯ: 1.0
ДАТА: Декабрь 2025
ЯЗЫК ИНТЕРФЕЙСА: Армянский (հայերեն)
ТЕХНОЛОГИИ: React 18 + TypeScript + Tailwind CSS + Vite


================================================================================
1. ОПИСАНИЕ ПРОЕКТА
================================================================================

Это веб-приложение для автоматической генерации расписания занятий в колледже.
Система учитывает множество факторов и ограничений для создания оптимального
расписания.

ОСНОВНЫЕ ВОЗМОЖНОСТИ:
---------------------
✓ Управление базовыми настройками учебного заведения
✓ Создание и настройка аудиторий (теоретические, лабораторные, кабинеты преподавателей)
✓ Управление предметами (теоретические и лабораторные занятия)
✓ Создание учебных групп и назначение предметов
✓ Управление преподавателями и их доступностью
✓ Автоматическая генерация расписания с учетом всех ограничений
✓ Визуализация расписания для групп, преподавателей и аудиторий
✓ Экспорт расписания в форматы JSON и ICS (календарь)
✓ Сохранение и восстановление конфигурации

КЛЮЧЕВЫЕ ОСОБЕННОСТИ АЛГОРИТМА:
-------------------------------
• Умное распределение занятий по дням недели
• Приоритет использования домашних аудиторий групп
• Специализированные лаборатории для определенных предметов
• Учет доступности преподавателей
• Избегание конфликтов (преподаватель, группа, аудитория)
• Оптимальное распределение нагрузки по дням
• Предпочтение разных дней для одного предмета
• Возможность последовательных занятий одного предмета


================================================================================
2. ТЕХНОЛОГИЧЕСКИЙ СТЕК
================================================================================

FRONTEND:
---------
• React 18.3.1           - UI библиотека
• TypeScript 5.5.3       - Типизированный JavaScript
• Tailwind CSS 3.4.1     - Utility-first CSS фреймворк
• Lucide React 0.344.0   - Иконки
• Vite 5.4.2             - Сборщик и dev-сервер

РАЗРАБОТКА:
-----------
• ESLint                 - Линтер кода
• PostCSS                - CSS обработчик
• Autoprefixer           - Автоматические префиксы для CSS

ХРАНЕНИЕ ДАННЫХ:
----------------
• LocalStorage           - Браузерное хранилище (автоматическое сохранение)

BACKEND (Опциональный - Python):
--------------------------------
• FastAPI                - Веб-фреймворк
• SQLAlchemy             - ORM для работы с БД
• Pydantic               - Валидация данных


================================================================================
3. СТРУКТУРА ПРОЕКТА
================================================================================

project/
│
├── src/                          # Исходный код приложения
│   ├── main.tsx                  # Точка входа React приложения
│   ├── App.tsx                   # Главный компонент с навигацией
│   ├── index.css                 # Глобальные стили
│   │
│   ├── components/               # React компоненты
│   │   ├── Layout.tsx            # Основной Layout с навигацией
│   │   ├── Setup.tsx             # Настройки учебного заведения
│   │   ├── Classrooms.tsx        # Управление аудиториями
│   │   ├── Subjects.tsx          # Управление предметами
│   │   ├── ClassGroups.tsx       # Управление учебными группами
│   │   ├── Teachers.tsx          # Управление преподавателями
│   │   ├── Overview.tsx          # Обзор всех настроек
│   │   ├── Schedule.tsx          # Генерация и просмотр расписания
│   │   ├── Toast.tsx             # Всплывающие уведомления
│   │   └── UndoToast.tsx         # Уведомление с отменой действия
│   │
│   ├── hooks/                    # React hooks (переиспользуемая логика)
│   │   ├── useScheduleData.ts    # Управление всеми данными (главный hook)
│   │   ├── useToast.ts           # Управление уведомлениями
│   │   └── useLocalization.ts    # Переводы (армянский язык)
│   │
│   ├── utils/                    # Утилиты и вспомогательные функции
│   │   ├── scheduleGenerator.ts  # ГЛАВНЫЙ ФАЙЛ - алгоритм генерации
│   │   └── icsExport.ts          # Экспорт в формат ICS календаря
│   │
│   ├── types/                    # TypeScript типы и интерфейсы
│   │   └── index.ts              # Определения всех типов данных
│   │
│   └── locales/                  # Переводы интерфейса
│       └── armenian.ts           # Армянский язык (հայերեն)
│
├── backend/                      # Backend (Python FastAPI) - опционально
│   ├── app/
│   │   ├── main.py               # Главный файл API
│   │   ├── models.py             # Модели БД
│   │   ├── schemas.py            # Pydantic схемы
│   │   ├── database.py           # Настройка БД
│   │   ├── crud.py               # CRUD операции
│   │   └── schedule_generator.py # Python версия генератора
│   └── requirements.txt          # Python зависимости
│
├── public/                       # Статические файлы
├── index.html                    # HTML шаблон
├── package.json                  # NPM зависимости и скрипты
├── tsconfig.json                 # Конфигурация TypeScript
├── vite.config.ts                # Конфигурация Vite
├── tailwind.config.js            # Конфигурация Tailwind CSS
└── README.txt                    # Этот файл


================================================================================
4. ДЕТАЛЬНОЕ ОПИСАНИЕ КЛЮЧЕВЫХ ФАЙЛОВ
================================================================================

4.1. ТИПЫ ДАННЫХ (src/types/index.ts)
--------------------------------------

Institution - Учебное заведение
  • name: Название колледжа
  • workingDays: Рабочие дни (например, Пн-Пт)
  • lessonsPerDay: Количество уроков в день (обычно 4-6)
  • lessonDuration: Длительность урока в минутах (обычно 70-90)
  • breakDurations: Массив длительностей перемен
  • startTime: Время начала занятий (например, "09:00")
  • academicWeeks: Количество учебных недель в году (обычно 40)
  • specializations: Список специальностей в колледже

ClassGroup - Учебная группа
  • name: Название группы (например, "211")
  • course: Курс (1-6)
  • specialization: Специальность группы
  • studentsCount: Количество студентов
  • homeRoom: ID домашней аудитории (если есть)
  • subjectHours: Объект { предмет_ID: часов_в_год }

Subject - Предмет
  • name: Название предмета
  • type: 'theory' | 'lab' (теория или лабораторная)
  • course: Для какого курса предмет (1-6)
  • specializationRequired: Требуемая специальность (опционально)
  • teacherIds: Массив ID преподавателей

Classroom - Аудитория
  • number: Номер аудитории (например, "101")
  • floor: Этаж
  • type: 'theory' | 'lab' | 'teacher_lab'
    - theory: Обычная аудитория
    - lab: Лаборатория
    - teacher_lab: Кабинет преподавателя
  • hasComputers: Наличие компьютеров
  • specialization: ID предметов через запятую (для специализированных лабораторий)
  • capacity: Вместимость

Teacher - Преподаватель
  • firstName, lastName: Имя и фамилия
  • subjects: Массив названий преподаваемых предметов
  • availableHours: Доступные часы { день: [номера_уроков] }
  • assignedClassGroups: ID групп, которым преподает
  • homeClassroom: ID своего кабинета (если есть)

ScheduleSlot - Слот расписания
  • day: День недели
  • lessonNumber: Номер урока (1, 2, 3, ...)
  • classGroupId: ID группы
  • subjectId: ID предмета
  • teacherId: ID преподавателя
  • classroomId: ID аудитории
  • startTime, endTime: Время начала и конца


4.2. УПРАВЛЕНИЕ ДАННЫМИ (src/hooks/useScheduleData.ts)
-------------------------------------------------------

Это главный hook, который управляет ВСЕМИ данными приложения.

ОСНОВНЫЕ ФУНКЦИИ:

Загрузка и сохранение:
• Автоматическая загрузка из localStorage при старте
• Автоматическое сохранение при любом изменении
• exportConfiguration() - Экспорт в JSON файл
• importConfiguration() - Импорт из JSON файла
• clearAllData() - Очистка всех данных

CRUD операции:
• addClassroom(), setClassrooms() - Аудитории
• addSubject(), setSubjects() - Предметы
• addClassGroup(), setClassGroups() - Группы
• addTeacher(), setTeachers() - Преподаватели
• setSchedule() - Расписание

Специальные функции:
• generateClassrooms(floors, roomsPerFloor) - Авто-создание аудиторий
• generateCollegeGroups(years, specializations) - Авто-создание групп
• updateClassGroupSubjects(groupId, subjectHours) - Обновление предметов группы

АВТОМАТИЧЕСКИЕ ПРОЦЕССЫ:

1. Синхронизация преподавателей и предметов:
   Когда изменяется предмет, автоматически обновляются связанные преподаватели

2. Автоматическое назначение:
   Когда добавляется преподаватель с предметами, эти предметы получают его ID

3. Обновление расписания:
   При изменении предметов расписание автоматически корректируется


4.3. АЛГОРИТМ ГЕНЕРАЦИИ (src/utils/scheduleGenerator.ts)
---------------------------------------------------------

Это САМЫЙ ВАЖНЫЙ файл системы. Содержит сложный алгоритм генерации расписания.

КЛАСС: ScheduleGenerator

ОСНОВНОЙ МЕТОД: generateSchedule()

ЭТАПЫ РАБОТЫ АЛГОРИТМА:

┌─────────────────────────────────────────────────────────────┐
│ ЭТАП 1: ПОДГОТОВКА                                          │
├─────────────────────────────────────────────────────────────┤
│ 1.1. Валидация входных данных                               │
│      • Проверка наличия групп, предметов, преподавателей    │
│      • Проверка назначений преподавателей группам           │
│      • Проверка предметов у групп                           │
│                                                             │
│ 1.2. Генерация требований к урокам                          │
│      • Для каждой группы и предмета                         │
│      • Рассчитывается количество уроков в неделю            │
│      • Создается список LessonRequirement                   │
│                                                             │
│ 1.3. Приоритизация требований                               │
│      Высокий приоритет (размещаются первыми):               │
│      • Лабораторные работы                                  │
│      • Предметы со специализированными аудиториями          │
│      • Предметы с малым числом преподавателей               │
│      • Большие группы                                       │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ ЭТАП 2: РАЗМЕЩЕНИЕ УРОКОВ                                   │
├─────────────────────────────────────────────────────────────┤
│ Для каждого требования (в порядке приоритета):              │
│                                                             │
│ 2.1. Найти доступные слоты                                  │
│      Проверки для каждого слота:                            │
│      ✓ Группа свободна                                      │
│      ✓ Преподаватель свободен И доступен в это время        │
│      ✓ Преподаватель назначен этой группе                   │
│      ✓ Аудитория свободна                                   │
│      ✓ Аудитория подходит по типу (теория/лаб)              │
│      ✓ Для лабораторий - специализация совпадает            │
│      ✓ Кабинет преподавателя может использовать только он   │
│                                                             │
│ 2.2. Оценка каждого слота (scoring)                         │
│      Бонусы (+):                                            │
│      +200 - Нет других уроков этого предмета в этот день    │
│      +150 - Группа в своей домашней аудитории               │
│      +100 - Преподаватель в своем кабинете                  │
│      +50  - Специализированная лаборатория для предмета     │
│      +50  - Последовательные уроки одного предмета          │
│      +30  - Последовательные уроки одного преподавателя     │
│      +X   - Предпочтение начала недели и середины дня       │
│                                                             │
│      Штрафы (-):                                            │
│      -5   - За каждый урок группы в этот день               │
│      -150 - Не последовательные уроки одного предмета       │
│      -300 - 3+ урока одного предмета в день                 │
│                                                             │
│ 2.3. Выбор лучшего слота                                    │
│      • Сортировка по оценке                                 │
│      • Добавление небольшой случайности                     │
│      • Размещение урока                                     │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│ ЭТАП 3: ОПТИМИЗАЦИЯ И АНАЛИЗ                                │
├─────────────────────────────────────────────────────────────┤
│ 3.1. Проверка распределения                                 │
│      • Анализ загруженности дней                            │
│      • Проверка использования домашних аудиторий            │
│      • Проверка использования специализированных лабораторий│
│                                                             │
│ 3.2. Детальная аналитика                                    │
│      • Распределение одного предмета по дням                │
│      • Соблюдение назначений преподавателей                 │
│      • Статистика использования аудиторий                   │
│                                                             │
│ 3.3. Отчет о неразмещенных уроках                          │
│      Если урок не удалось разместить, система выдает:       │
│      • Причину (нет преподавателей, аудиторий, времени)     │
│      • Детальный анализ конфликтов                          │
│      • Рекомендации по исправлению                          │
└─────────────────────────────────────────────────────────────┘


КЛЮЧЕВЫЕ МЕТОДЫ:

validateInputData()
• Проверяет корректность всех входных данных
• Возвращает ошибку, если что-то не настроено

generateLessonRequirements()
• Создает список всех уроков, которые нужно разместить
• Рассчитывает недельную нагрузку из годовой

calculatePriority()
• Определяет приоритет размещения урока
• Чем меньше число = выше приоритет

findAvailableSlots()
• Находит все возможные временные слоты для урока
• Учитывает все ограничения

scoreSlot()
• Оценивает качество конкретного временного слота
• Возвращает числовую оценку

getSuitableClassroomsForTeacher()
• Возвращает подходящие аудитории для урока
• Приоритет: домашняя аудитория группы > кабинет преподавателя > обычные

isSlotAvailable()
• Проверяет доступность слота (нет конфликтов)
• Учитывает владение кабинетами преподавателями

optimizeScheduleDistribution()
• Анализирует итоговое расписание
• Выводит статистику и предупреждения


ПСЕВДОКОД ОСНОВНОГО АЛГОРИТМА:

```
ФУНКЦИЯ generateSchedule():
    1. Сгенерировать случайное зерно для вариативности
    2. Очистить предыдущее расписание

    3. Валидировать данные:
       ЕСЛИ нет групп ИЛИ нет предметов ИЛИ нет преподавателей:
           ВЕРНУТЬ ошибку

    4. Создать список требований к урокам:
       ДЛЯ КАЖДОЙ группы:
           ДЛЯ КАЖДОГО предмета группы:
               часов_в_неделю = годовые_часы / учебные_недели
               ДЛЯ i ОТ 1 ДО часов_в_неделю:
                   ДОБАВИТЬ требование к списку

    5. Отсортировать требования по приоритету:
       • Сначала лабораторные
       • Потом предметы с меньшим числом преподавателей
       • Рандомизировать внутри групп одинакового приоритета

    6. ДЛЯ КАЖДОГО требования ИЗ списка:
           доступные_слоты = НайтиДоступныеСлоты(требование)

           ЕСЛИ доступные_слоты пусты:
               Записать в лог причину неудачи
               ПРОДОЛЖИТЬ

           оцененные_слоты = []
           ДЛЯ КАЖДОГО слота ИЗ доступные_слоты:
               оценка = ВычислитьОценку(слот, требование)
               ДОБАВИТЬ (слот, оценка) в оцененные_слоты

           Отсортировать оцененные_слоты по оценке (по убыванию)
           лучший_слот = Выбрать из топ 10% с учетом случайности

           Добавить лучший_слот в расписание

    7. Оптимизировать расписание:
       • Проанализировать распределение по дням
       • Проверить использование домашних аудиторий
       • Проверить правильность назначений

    8. ВЕРНУТЬ расписание
КОНЕЦ ФУНКЦИИ


ФУНКЦИЯ НайтиДоступныеСлоты(требование):
    доступные = []

    ДЛЯ КАЖДОГО дня ИЗ рабочих_дней:
        ДЛЯ КАЖДОГО номер_урока ОТ 1 ДО уроков_в_день:
            ДЛЯ КАЖДОГО преподавателя ИЗ требование.преподаватели:

                // Проверка доступности преподавателя
                ЕСЛИ преподаватель.доступные_часы[день] НЕ содержит номер_урока:
                    ПРОДОЛЖИТЬ

                // Проверка назначения группе
                ЕСЛИ группа НЕ В преподаватель.назначенные_группы:
                    ПРОДОЛЖИТЬ

                // Поиск подходящих аудиторий
                подходящие_аудитории = ПолучитьПодходящиеАудитории(
                    тип_предмета,
                    id_предмета,
                    преподаватель,
                    группа
                )

                ДЛЯ КАЖДОЙ аудитории ИЗ подходящие_аудитории:

                    // Проверка всех конфликтов
                    ЕСЛИ НетКонфликтов(группа, преподаватель, аудитория, день, номер_урока):
                        слот = СоздатьСлот(день, номер_урока, группа, предмет, преподаватель, аудитория)
                        ДОБАВИТЬ слот в доступные

    ВЕРНУТЬ доступные
КОНЕЦ ФУНКЦИИ


ФУНКЦИЯ ВычислитьОценку(слот, требование):
    оценка = 0

    // Бонусы за распределение по дням
    уроков_этого_предмета_в_этот_день = ПодсчитатьУрокиПредметаВДень(
        слот.группа,
        слот.предмет,
        слот.день
    )

    ЕСЛИ уроков_этого_предмета_в_этот_день == 0:
        оценка += 200  // Отлично - разные дни!
    ИНАЧЕ ЕСЛИ уроков_этого_предмета_в_этот_день == 1:
        ЕСЛИ УрокиПоследовательные(слот):
            оценка += 50  // Хорошо - последовательные
        ИНАЧЕ:
            оценка -= 150  // Плохо - не последовательные
    ИНАЧЕ:
        оценка -= 300  // Очень плохо - слишком много в один день

    // Бонусы за использование домашних аудиторий
    ЕСЛИ слот.аудитория == группа.домашняя_аудитория:
        оценка += 150

    ЕСЛИ слот.аудитория == преподаватель.домашний_кабинет:
        оценка += 100

    // Бонусы за специализацию
    ЕСЛИ аудитория.специализация содержит предмет:
        оценка += 50

    // Предпочтение времени
    оценка += (5 - индекс_дня) * 2      // Начало недели лучше
    оценка += (уроков_в_день - |номер_урока - середина|) * 3  // Середина дня лучше

    // Штраф за загруженность дня
    уроков_группы_в_день = ПодсчитатьУрокиГруппыВДень(слот.группа, слот.день)
    оценка -= уроков_группы_в_день * 5

    // Небольшая случайность
    оценка += Случайное(0, 5)

    ВЕРНУТЬ оценка
КОНЕЦ ФУНКЦИИ


ФУНКЦИЯ НетКонфликтов(группа, преподаватель, аудитория, день, номер_урока):
    // Проверка конфликта группы
    ЕСЛИ группа уже занята в это время:
        ВЕРНУТЬ false

    // Проверка конфликта преподавателя
    ЕСЛИ преподаватель уже занят в это время:
        ВЕРНУТЬ false

    // Проверка конфликта аудитории
    ЕСЛИ аудитория уже занята в это время:
        ВЕРНУТЬ false

    // Проверка владения кабинетом
    ЕСЛИ аудитория.тип == 'teacher_lab':
        владелец = НайтиВладельца(аудитория)
        ЕСЛИ владелец существует И владелец != преподаватель:
            ВЕРНУТЬ false  // Чужой кабинет!

    ВЕРНУТЬ true
КОНЕЦ ФУНКЦИИ
```


4.4. КОМПОНЕНТЫ UI (src/components/)
------------------------------------

Setup.tsx - Базовые настройки
• Название колледжа
• Рабочие дни и количество уроков
• Длительность уроков и перемен
• Время начала
• Количество учебных недель
• Специальности

Classrooms.tsx - Управление аудиториями
• Добавление аудиторий вручную
• Автоматическое создание (этажи × комнат)
• Типы: теория, лаборатория, кабинет преподавателя
• Специализация для лабораторий
• Назначение кабинета преподавателю

Subjects.tsx - Управление предметами
• Название предмета
• Тип (теория / лаборатория)
• Курс (1-6)
• Требуемая специализация
• Автоматическое связывание с преподавателями

ClassGroups.tsx - Управление группами
• Название группы
• Курс и специализация
• Количество студентов
• Домашняя аудитория
• Назначение предметов с часами
• Автогенерация групп

Teachers.tsx - Управление преподавателями
• Имя и фамилия
• Преподаваемые предметы
• Доступные часы (интерактивная сетка)
• Назначенные группы
• Домашний кабинет

Overview.tsx - Обзор настроек
• Сводка всех данных
• Проверка готовности к генерации
• Экспорт/импорт конфигурации

Schedule.tsx - Расписание
• Кнопка генерации
• Логи процесса генерации
• Просмотр расписания:
  - По группам
  - По преподавателям
  - По аудиториям
• Экспорт в ICS
• Ручное редактирование


4.5. ЛОКАЛИЗАЦИЯ (src/locales/armenian.ts)
------------------------------------------

Содержит ВСЕ тексты интерфейса на армянском языке.

Структура:
{
  common: { /* Общие тексты */ },
  nav: { /* Навигация */ },
  setup: { /* Настройки */ },
  classrooms: { /* Аудитории */ },
  subjects: { /* Предметы */ },
  groups: { /* Группы */ },
  teachers: { /* Преподаватели */ },
  overview: { /* Обзор */ },
  schedule: { /* Расписание */ },
  toast: { /* Уведомления */ }
}


================================================================================
5. УСТАНОВКА И ЗАПУСК НА ДРУГОМ КОМПЬЮТЕРЕ
================================================================================

ТРЕБОВАНИЯ:
-----------
• Node.js версии 18 или выше
• npm (обычно идет с Node.js)
• Современный браузер (Chrome, Firefox, Safari, Edge)

ПОШАГОВАЯ ИНСТРУКЦИЯ:

Шаг 1: Копирование проекта
---------------------------
Скопируйте всю папку проекта на другой компьютер.

Шаг 2: Установка зависимостей
------------------------------
Откройте терминал в папке проекта и выполните:

$ npm install

Эта команда установит все необходимые библиотеки из package.json.
Процесс займет 1-3 минуты в зависимости от скорости интернета.

Шаг 3: Запуск dev-сервера
--------------------------
$ npm run dev

После запуска вы увидите:
  ➜  Local:   http://localhost:5173/
  ➜  Network: http://192.168.x.x:5173/

Откройте http://localhost:5173/ в браузере.

Шаг 4: Сборка для продакшена (опционально)
-------------------------------------------
Для создания оптимизированной версии:

$ npm run build

Результат будет в папке dist/.
Эти файлы можно разместить на любом веб-хостинге.


КОМАНДЫ NPM:
------------
npm run dev       - Запуск dev-сервера с hot-reload
npm run build     - Сборка для продакшена
npm run preview   - Предпросмотр production сборки
npm run lint      - Проверка кода линтером


BACKEND (опционально):
----------------------
Если нужен Python backend:

$ cd backend
$ pip install -r requirements.txt
$ python run.py

API будет доступен на http://localhost:8000


================================================================================
6. ИНСТРУКЦИЯ ПО ИСПОЛЬЗОВАНИЮ
================================================================================

ПОШАГОВОЕ РУКОВОДСТВО ДЛЯ ПОЛЬЗОВАТЕЛЯ:

Шаг 1: НАСТРОЙКА УЧЕБНОГО ЗАВЕДЕНИЯ (Setup)
--------------------------------------------
• Введите название колледжа
• Выберите рабочие дни (обычно Пн-Пт)
• Укажите количество уроков в день (например, 4)
• Установите длительность урока (например, 70 минут)
• Настройте перемены (автоматически: 10 мин обычные, 20 мин после 2-го урока)
• Укажите время начала занятий (например, 09:00)
• Установите количество учебных недель (обычно 40)
• Добавьте специальности колледжа

ВАЖНО: Эти настройки влияют на все расписание!

Шаг 2: СОЗДАНИЕ АУДИТОРИЙ (Classrooms)
---------------------------------------
Вариант А - Автоматическое создание:
• Нажмите "Ավտոմատ ստեղծել"
• Укажите количество этажей (например, 3)
• Укажите комнат на этаж (например, 10)
• Система создаст аудитории с номерами 101, 102, ..., 310

Вариант Б - Ручное добавление:
• Нажмите "Ավելացնել սենյակ"
• Заполните:
  - Номер аудитории (например, "201")
  - Этаж (например, 2)
  - Тип: Теория / Лаборатория / Кабинет преподавателя
  - Есть ли компьютеры
  - Вместимость

НАСТРОЙКА СПЕЦИАЛИЗИРОВАННЫХ ЛАБОРАТОРИЙ:
• Для лабораторий можно указать специализацию
• Выберите предметы, которые могут использовать эту лабораторию
• Пример: Лаборатория физики → только для уроков физики

НАЗНАЧЕНИЕ КАБИНЕТОВ ПРЕПОДАВАТЕЛЯМ:
• Тип "Кабинет преподавателя"
• Выберите владельца из списка преподавателей
• Этот кабинет сможет использовать ТОЛЬКО этот преподаватель

Шаг 3: ДОБАВЛЕНИЕ ПРЕДМЕТОВ (Subjects)
---------------------------------------
• Нажмите "Ավելացնել առարկա"
• Заполните:
  - Название предмета (например, "Մաթեմատիկա")
  - Тип: Теория или Лаборатория
  - Курс: Для какого курса предмет (1-6)
  - Специализация: Если предмет только для определенной специальности

ПРИМЕЧАНИЕ: Предметы автоматически связываются с преподавателями,
которые указали этот предмет в своем профиле.

Шаг 4: СОЗДАНИЕ ГРУПП (Groups)
-------------------------------
Вариант А - Автоматическое создание:
• Нажмите "Ավտոգեներացիա"
• Выберите годы поступления (например, 2023, 2024, 2025)
• Выберите специальности
• Система создаст группы по шаблону: {год}{спец}{поток}
  Пример: 231, 232, 233 (2023 год, спец 3, потоки 1-3)

Вариант Б - Ручное создание:
• Нажмите "Ավելացնել խումբ"
• Заполните:
  - Название (например, "211")
  - Курс (1-6)
  - Специализация
  - Количество студентов
  - Домашняя аудитория (если есть)

НАЗНАЧЕНИЕ ПРЕДМЕТОВ ГРУППЕ:
• Для каждой группы откройте список предметов
• Укажите часов в год для каждого предмета
• Пример: Математика - 120 часов в год

Шаг 5: ДОБАВЛЕНИЕ ПРЕПОДАВАТЕЛЕЙ (Teachers)
--------------------------------------------
• Нажмите "Ավելացնել ուսուցիչ"
• Заполните:
  - Имя и Фамилия
  - Преподаваемые предметы (можно несколько)
  - Домашний кабинет (если есть)

НАСТРОЙКА ДОСТУПНОСТИ:
• Используйте интерактивную сетку
• Отметьте часы, когда преподаватель может вести уроки
• Зеленые ячейки = доступен
• Серые ячейки = недоступен

НАЗНАЧЕНИЕ ГРУПП:
• ВАЖНО: Укажите какие группы преподает этот преподаватель
• Преподаватель сможет вести уроки ТОЛЬКО у назначенных групп
• Это исключает ошибки назначения

Шаг 6: ПРОВЕРКА (Overview)
---------------------------
• Проверьте все настройки
• Убедитесь что:
  ✓ Есть группы
  ✓ Есть предметы
  ✓ Есть преподаватели
  ✓ Есть аудитории
  ✓ Группы имеют назначенные предметы
  ✓ Преподаватели имеют доступные часы
  ✓ Преподаватели назначены группам

ЭКСПОРТ КОНФИГУРАЦИИ:
• Нажмите "Արտահանել կարգավորումները"
• Сохраните JSON файл
• Этот файл можно импортировать позже для быстрого восстановления

Шаг 7: ГЕНЕРАЦИЯ РАСПИСАНИЯ (Schedule)
---------------------------------------
• Нажмите "Գեներացնել ժամացույց"
• Наблюдайте за процессом в логе
• Если есть проблемы, система подскажет что нужно исправить

ПРОСМОТР РАСПИСАНИЯ:
• Выберите фильтр:
  - По группам (расписание для студентов)
  - По преподавателям (нагрузка преподавателя)
  - По аудиториям (занятость аудиторий)

ЭКСПОРТ РАСПИСАНИЯ:
• Экспорт в JSON - для резервной копии
• Экспорт в ICS - для импорта в календарь (Google Calendar, Outlook и т.д.)


================================================================================
7. РЕШЕНИЕ ТИПИЧНЫХ ПРОБЛЕМ
================================================================================

ПРОБЛЕМА 1: "No lessons could be scheduled"
--------------------------------------------
ПРИЧИНА: Система не смогла разместить ни одного урока.

РЕШЕНИЕ:
1. Проверьте что у преподавателей есть доступные часы
   (зеленые ячейки в расписании преподавателя)
2. Убедитесь что преподаватели назначены группам
3. Проверьте что есть достаточно аудиторий

ПРОБЛЕМА 2: "No valid teachers for subject X in group Y"
---------------------------------------------------------
ПРИЧИНА: У предмета нет преподавателей, назначенных этой группе.

РЕШЕНИЕ:
1. Откройте раздел Teachers
2. Найдите преподавателя, который ведет этот предмет
3. В списке "Assigned Groups" добавьте нужную группу
4. ИЛИ назначьте другого преподавателя этому предмету

ПРОБЛЕМА 3: Много неразмещенных уроков
---------------------------------------
ПРИЧИНА: Недостаточно времени или ресурсов для всех уроков.

РЕШЕНИЕ:
1. Увеличьте количество уроков в день (Setup)
2. Добавьте больше рабочих дней
3. Увеличьте доступность преподавателей
4. Добавьте больше аудиторий (особенно лабораторий)
5. Уменьшите часы предметов для групп

ПРОБЛЕМА 4: Все уроки одного предмета в один день
--------------------------------------------------
ПРИЧИНА: Недостаточно свободных слотов в другие дни.

РЕШЕНИЕ:
1. Алгоритм старается избегать этого (штраф -300)
2. Если происходит - значит нет альтернатив
3. Проверьте доступность преподавателя в другие дни
4. Убедитесь что аудитории свободны в другие дни

ПРОБЛЕМА 5: "Classroom already scheduled"
------------------------------------------
ПРИЧИНА: Конфликт использования аудитории.

РЕШЕНИЕ:
1. Добавьте больше аудиторий нужного типа
2. Проверьте специализацию лабораторий
   (может быть слишком строгая привязка к предметам)

ПРОБЛЕМА 6: Данные не сохраняются
----------------------------------
ПРИЧИНА: Проблемы с localStorage браузера.

РЕШЕНИЕ:
1. Проверьте что не используется режим инкогнито
2. Очистите кэш браузера и перезагрузите
3. Проверьте что не отключен localStorage в настройках браузера
4. Используйте экспорт конфигурации для резервной копии

ПРОБЛЕМА 7: Преподаватель в двух местах одновременно
-----------------------------------------------------
ПРИЧИНА: Ошибка в алгоритме (не должно происходить).

РЕШЕНИЕ:
1. Перегенерируйте расписание
2. Если повторяется - проверьте что преподаватель правильно назначен
3. Сообщите разработчику (это баг)

ПРОБЛЕМА 8: Лабораторная работа в теоретической аудитории
----------------------------------------------------------
ПРИЧИНА: Нет доступных лабораторий.

РЕШЕНИЕ:
1. Добавьте лаборатории (тип "lab")
2. ИЛИ не указывайте специализацию у лабораторий
   (тогда они доступны для всех предметов)


================================================================================
8. РАСШИРЕНИЕ ПРОЕКТА - ИДЕИ ДЛЯ РАЗВИТИЯ
================================================================================

БАЗОВЫЕ УЛУЧШЕНИЯ:
------------------
1. Добавить поддержку нескольких языков (английский, русский)
2. Темная тема интерфейса
3. Импорт данных из Excel/CSV
4. Печать расписания в PDF
5. Цветовая кодировка по предметам или преподавателям

ФУНКЦИОНАЛЬНОСТЬ:
-----------------
6. Ручное редактирование расписания (drag & drop)
7. Копирование расписания с прошлой недели/семестра
8. Шаблоны расписаний
9. История изменений с возможностью отката
10. Сравнение двух версий расписания

УМНЫЙ АЛГОРИТМ:
---------------
11. Учет предпочтений преподавателей по времени
12. Мягкие ограничения с весами
13. Оптимизация переходов между аудиториями
14. Минимизация "окон" в расписании
15. Балансировка сложности дней (не все сложные предметы в один день)

АНАЛИТИКА:
----------
16. Статистика загрузки преподавателей
17. Статистика использования аудиторий
18. Выявление конфликтов и узких мест
19. Графики распределения нагрузки
20. Отчеты для администрации

ИНТЕГРАЦИИ:
-----------
21. Синхронизация с Google Calendar
22. Отправка уведомлений на email/SMS
23. Мобильное приложение
24. API для интеграции с другими системами
25. Экспорт в форматы других систем расписания

БАЗА ДАННЫХ:
------------
26. Полноценный backend с PostgreSQL
27. Многопользовательский режим
28. Права доступа (администратор, преподаватель, студент)
29. Облачное хранение
30. Реал-тайм синхронизация между пользователями


================================================================================
9. ТЕХНИЧЕСКАЯ ИНФОРМАЦИЯ ДЛЯ РАЗРАБОТЧИКОВ
================================================================================

АРХИТЕКТУРА:
------------
Приложение построено на архитектуре:
• Presentation Layer: React компоненты
• Business Logic Layer: Hooks и утилиты
• Data Layer: LocalStorage + состояние React

ПАТТЕРНЫ:
---------
• Custom Hooks для переиспользуемой логики
• Composition over Inheritance
• Unidirectional Data Flow
• Single Source of Truth (useScheduleData hook)

СОСТОЯНИЕ:
----------
Все состояние хранится в useScheduleData hook:
• institution: Institution
• classGroups: ClassGroup[]
• subjects: Subject[]
• classrooms: Classroom[]
• teachers: Teacher[]
• schedule: ScheduleSlot[]

Каждое изменение автоматически сохраняется в localStorage.

ТИПИЗАЦИЯ:
----------
Проект полностью типизирован TypeScript:
• Все интерфейсы в src/types/index.ts
• Строгая типизация props компонентов
• Type-safe hooks

ПРОИЗВОДИТЕЛЬНОСТЬ:
-------------------
• React.memo для тяжелых компонентов
• useCallback для стабильных функций
• Ленивая загрузка (если нужно)
• Виртуализация списков (если нужно)

ТЕСТИРОВАНИЕ:
-------------
Для добавления тестов рекомендуется:
• Jest + React Testing Library
• Тестирование hooks: @testing-library/react-hooks
• E2E тесты: Playwright или Cypress

ОТЛАДКА:
--------
Используйте React DevTools для:
• Просмотра состояния компонентов
• Профилирования производительности
• Отслеживания re-renders

АЛГОРИТМ:
---------
Сложность алгоритма генерации:
• Временная: O(n * m * d * h)
  где n = уроков, m = преподавателей, d = дней, h = часов
• Пространственная: O(n)

Алгоритм использует:
• Greedy algorithm с эвристиками
• Scoring function для оценки качества
• Randomization для вариативности


================================================================================
10. КОНТАКТЫ И ЛИЦЕНЗИЯ
================================================================================

АВТОР:
------
Проект разработан с использованием Claude AI (Anthropic)

ЛИЦЕНЗИЯ:
---------
[Укажите вашу лицензию]

ВКЛАД В ПРОЕКТ:
---------------
Если вы хотите улучшить проект:
1. Форкните репозиторий
2. Создайте feature branch
3. Внесите изменения
4. Создайте Pull Request

БЛАГОДАРНОСТИ:
--------------
• React Team за отличный фреймворк
• Tailwind CSS за удобный CSS
• Vite за быстрый dev-сервер
• TypeScript за типобезопасность


================================================================================
11. CHANGELOG (ИСТОРИЯ ИЗМЕНЕНИЙ)
================================================================================

Версия 1.0 (Декабрь 2025)
--------------------------
✓ Первый релиз
✓ Базовая функциональность генерации расписания
✓ Армянский интерфейс
✓ Экспорт в JSON и ICS
✓ LocalStorage для хранения данных
✓ Умный алгоритм с приоритетами и оптимизацией
✓ Поддержка специализированных лабораторий
✓ Кабинеты преподавателей
✓ Домашние аудитории групп


================================================================================
КОНЕЦ ДОКУМЕНТАЦИИ
================================================================================

Дата создания: Декабрь 2025
Последнее обновление: Декабрь 2025

Спасибо за использование системы генерации расписания!

Если у вас есть вопросы или предложения - свяжитесь с разработчиком.

Удачи в составлении расписания!
